!function(){"use strict";var t,e={4443:function(t,e,i){i.d(e,{Fb:function(){return a.A},ZV:function(){return s.A},ey:function(){return o.A},gj:function(){return u.A},iq:function(){return n.A},m5:function(){return l.A},zi:function(){return r.A}});var n=i(9702),r=i(7449),a=i(1579),o=i(4340),s=i(6925),u=i(9804),l=(i(797),i(7974),i(8959),i(5252))},6988:function(t,e,i){var n=i(655),r=i(5602),a=i(5762),o=i.n(a),s=i(8282),u=i(7236),l=i(1653),h=i(863),c=i(620),d=i(3926),f=(i(3203),i(1659)),m=i(7059),p=i(9497);i(8434);class g extends f.n{constructor(t){super(t,"author-liked"),this.state={resultsCount:null},this.getCountFunc=this.getCountFunc.bind(this)}getCountFunc(t){this.setState({resultsCount:t})}pageContent(){return[this.state.author?r.createElement(m.A,{key:"ProfilePagesHeader",author:this.state.author,type:"liked"}):null,this.state.author?r.createElement(p.A,{key:"ProfilePagesContent"},r.createElement(s.W,null,(t=>r.createElement(c.y,{title:this.props.title+(null!==this.state.resultsCount?" ("+this.state.resultsCount+")":""),className:"items-list-ver"},r.createElement(d.y,{itemsCountCallback:this.getCountFunc,requestUrl:t.user.liked,hideAuthor:!h.A.get("config-media-item").displayAuthor,hideViews:!h.A.get("config-media-item").displayViews,hideDate:!h.A.get("config-media-item").displayPublishDate,canEdit:!1}))))):null]}}f.n.propTypes={title:o().string.isRequired},f.n.defaultProps={title:"My favorites"};var v=i(9083);class y extends l.Y{constructor(t){super(t,"liked-media"),this.state={resultsCount:null},this.getCountFunc=this.getCountFunc.bind(this)}getCountFunc(t){this.setState({resultsCount:t})}pageContent(){return r.createElement(s.W,null,(t=>r.createElement(u.O,null,(e=>r.createElement(c.y,{title:this.props.title+(null!==this.state.resultsCount?" ("+this.state.resultsCount+")":""),className:"search-results-wrap items-list-hor"},r.createElement(d.y,{singleLinkContent:!1,horizontalItemsOrientation:!0,itemsCountCallback:this.getCountFunc,requestUrl:t.user.liked,hideViews:!h.A.get("config-media-item").displayViews,hideAuthor:!h.A.get("config-media-item").displayAuthor,hideDate:!h.A.get("config-media-item").displayPublishDate}))))))}}y.propTypes={title:o().string.isRequired},y.defaultProps={title:h.A.get("config-enabled").pages.liked.title};class C extends r.PureComponent{constructor(t){super(t)}render(){return u.A._currentValue.is.anonymous||!h.A.get("config-options").pages.profile.includeLikedMedia?r.createElement(y,null):((0,v.zc)(document.getElementById("page-liked"),"profile-page-liked"),window.MediaCMS.profileId=u.A._currentValue.username,r.createElement(g,null))}}(0,n.C)("page-liked",C)},8282:function(t,e,i){i.d(e,{W:function(){return o}});var n=i(5602),r=i(5909);const a=n.createContext((0,r.$)(window.MediaCMS).api),o=a.Consumer;e.A=a},8434:function(t,e,i){i(5602);var n=i(497),r=i.n(n),a=i(4443),o=(i(863),i(5909));class s extends(r()){constructor(){super(),this.mediacms_config=(0,o.$)(window.MediaCMS),this.authorData=null,this.authorQuery=void 0,this.onDataLoad=this.onDataLoad.bind(this),this.onDataLoadFail=this.onDataLoadFail.bind(this),this.removeProfileResponse=this.removeProfileResponse.bind(this),this.removeProfileFail=this.removeProfileFail.bind(this),this.removingProfile=!1}removeProfileResponse(t){t&&204===t.status&&this.emit("profile_delete",this.authorData.username)}removeProfileFail(){this.emit("profile_delete_fail",this.authorData.username),setTimeout((function(t){this.removingProfile=!1}),100,this)}get(t){switch(t){case"author-data":return this.authorData;case"author-query":if(void 0===this.authorQuery){this.authorQuery=null;let t=window.location.search;if(t&&""!==t){t=t.split("?")[1].split("=");let e=0;for(;e<t.length;){if("aq"===t[e]){this.authorQuery=t[e+1]||null;break}e+=1}}}return this.authorQuery}}onDataLoad(t){t&&t.data&&(this.authorData=t.data,this.authorData.id=this.authorData.username,this.authorData.name=""!==this.authorData.name?this.authorData.name:this.authorData.username,this.emit("load-author-data"))}onDataLoadFail(t){}actions_handler(t){switch(t.type){case"REMOVE_PROFILE":if(this.removingProfile)return;this.removingProfile=!0;let t=this.mediacms_config.api.users+"/"+this.authorData.username;(0,a.Fb)(t,{headers:{"X-CSRFToken":(0,a.m5)()}},!1,this.removeProfileResponse,this.removeProfileFail);break;case"LOAD_AUTHOR_DATA":(0,a.iq)(this.mediacms_config.api.users+"/"+window.MediaCMS.profileId,!1,this.onDataLoad,this.onDataLoadFail)}}}e.A=(0,a.ey)(new s,"actions_handler")}},i={};function n(t){var r=i[t];if(void 0!==r)return r.exports;var a=i[t]={exports:{}};return e[t].call(a.exports,a,a.exports,n),a.exports}n.m=e,t=[],n.O=function(e,i,r,a){if(!i){var o=1/0;for(h=0;h<t.length;h++){i=t[h][0],r=t[h][1],a=t[h][2];for(var s=!0,u=0;u<i.length;u++)(!1&a||o>=a)&&Object.keys(n.O).every((function(t){return n.O[t](i[u])}))?i.splice(u--,1):(s=!1,a<o&&(o=a));if(s){t.splice(h--,1);var l=r();void 0!==l&&(e=l)}}return e}a=a||0;for(var h=t.length;h>0&&t[h-1][2]>a;h--)t[h]=t[h-1];t[h]=[i,r,a]},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.j=514,function(){var t={514:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var r,a,o=i[0],s=i[1],u=i[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(u)var h=u(n)}for(e&&e(i);l<o.length;l++)a=o[l],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(h)},i=self.webpackChunkmediacms_frontend=self.webpackChunkmediacms_frontend||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var r=n.O(void 0,[276],(function(){return n(6988)}));r=n.O(r)}();