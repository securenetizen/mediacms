!function(){"use strict";var e,t={1091:function(e,t,r){var n=r(655),s=r(5602),i=r(5762),l=r.n(i),o=r(8282),a=r(1653),u=r(863),c=r(8429),d=r(620),h=r(623);function f(e){return e.options.map((t=>s.createElement("div",{key:t.id,className:t.id===e.selected?"active":""},s.createElement("button",{onClick:e.onSelect,filter:e.id,value:t.id},s.createElement("span",null,t.title),t.id===e.selected?s.createElement(h.Z,{type:"close"}):null))))}f.propTypes={id:l().string.isRequired,selected:l().string.isRequired,onSelect:l().func.isRequired};const m={role:[{id:"all",title:"All"},{id:"editor",title:"Editor"},{id:"manager",title:"Manager"}]};function g(e){const[t,r]=(0,s.useState)(e.hidden),[n,i]=(0,s.useState)("all"),l=(0,s.useRef)(null),o=(0,s.useRef)(null);function a(){t||(l.current.style.height=24+o.current.offsetHeight+"px")}return(0,s.useEffect)((()=>{r(e.hidden),a()}),[e.hidden]),(0,s.useEffect)((()=>(u.A.on("window_resize",a),()=>u.A.removeListener("window_resize",a))),[]),s.createElement("div",{ref:l,className:"mi-filters-row"+(t?" hidden":"")},s.createElement("div",{ref:o,className:"mi-filters-row-inner"},s.createElement("div",{className:"mi-filter"},s.createElement("div",{className:"mi-filter-title"},"ROLE"),s.createElement("div",{className:"mi-filter-options"},s.createElement(f,{id:"role",options:m.role,selected:n,onSelect:function(t){const r={role:n};"role"===t.currentTarget.getAttribute("filter")&&(r.role=t.currentTarget.getAttribute("value"),e.onFiltersUpdate(r),i(r.role))}})))))}function p(e){const[t,r]=(0,s.useState)(e.active);return s.createElement("div",{className:"mi-filters-toggle"},s.createElement("button",{className:t?"active":"","aria-label":"Filter",onClick:function(){r(!t),void 0!==e.onClick&&e.onClick()}},s.createElement(h.Z,{type:"filter_list"}),s.createElement("span",{className:"filter-button-label"},s.createElement("span",{className:"filter-button-label-text"},"FILTERS"))))}g.propTypes={hidden:l().bool},g.defaultProps={hidden:!1},p.propTypes={onClick:l().func,active:l().bool},p.defaultProps={active:!1};var v=r(686);function b(e,t,r,n){return e+"?"+t+(""===t?"":"&")+r+(""===r?"":"&")+"page="+n}class C extends a.Y{constructor(e){super(e,"manage-users"),this.state={resultsCount:null,currentPage:1,requestUrl:o.A._currentValue.manage.users,hiddenFilters:!0,filterArgs:"",sortingArgs:"",sortBy:"add_date",ordering:"desc",refresh:0},this.getCountFunc=this.getCountFunc.bind(this),this.onTablePageChange=this.onTablePageChange.bind(this),this.onToggleFiltersClick=this.onToggleFiltersClick.bind(this),this.onFiltersUpdate=this.onFiltersUpdate.bind(this),this.onColumnSortClick=this.onColumnSortClick.bind(this),this.onItemsRemoval=this.onItemsRemoval.bind(this),this.onItemsRemovalFail=this.onItemsRemovalFail.bind(this)}onTablePageChange(e,t){this.setState({currentPage:t,requestUrl:b(o.A._currentValue.manage.users,this.state.filterArgs,this.state.sortingArgs,t)})}onToggleFiltersClick(){this.setState({hiddenFilters:!this.state.hiddenFilters})}getCountFunc(e){this.setState({resultsCount:e})}onFiltersUpdate(e){const t=[];for(let r in e)null!==e[r]&&"all"!==e[r]&&t.push(r+"="+e[r]);this.setState({filterArgs:t.join("&"),requestUrl:b(o.A._currentValue.manage.users,t.join("&"),this.state.sortingArgs,this.state.currentPage)})}onColumnSortClick(e,t){const r="sort_by="+e+"&ordering="+t;this.setState({sortBy:e,ordering:t,sortingArgs:r,requestUrl:b(o.A._currentValue.manage.users,this.state.filterArgs,r,this.state.currentPage)})}onItemsRemoval(e){this.setState({resultsCount:null,refresh:this.state.refresh+1,requestUrl:o.A._currentValue.manage.users},(function(){e?c.z8("The users deleted successfully.","usersRemovalSucceed"):c.z8("The user deleted successfully.","userRemovalSucceed")}))}onItemsRemovalFail(e){e?c.z8("The users removal failed. Please try again.","usersRemovalFailed"):c.z8("The user removal failed. Please try again.","userRemovalFailed")}pageContent(){return[s.createElement(d.y,{key:"2",title:this.props.title+(null===this.state.resultsCount?"":" ("+this.state.resultsCount+")")},s.createElement(p,{onClick:this.onToggleFiltersClick}),s.createElement(g,{hidden:this.state.hiddenFilters,onFiltersUpdate:this.onFiltersUpdate}),s.createElement(v.D,{pageItems:50,manageType:"users",key:this.state.requestUrl+"["+this.state.refresh+"]",itemsCountCallback:this.getCountFunc,requestUrl:this.state.requestUrl,onPageChange:this.onTablePageChange,sortBy:this.state.sortBy,ordering:this.state.ordering,onRowsDelete:this.onItemsRemoval,onRowsDeleteFail:this.onItemsRemovalFail,onClickColumnSort:this.onColumnSortClick}))]}}C.propTypes={title:l().string.isRequired},C.defaultProps={title:"Manage users"},(0,n.C)("page-manage-users",C)}},r={};function n(e){var s=r[e];if(void 0!==s)return s.exports;var i=r[e]={exports:{}};return t[e].call(i.exports,i,i.exports,n),i.exports}n.m=t,e=[],n.O=function(t,r,s,i){if(!r){var l=1/0;for(c=0;c<e.length;c++){r=e[c][0],s=e[c][1],i=e[c][2];for(var o=!0,a=0;a<r.length;a++)(!1&i||l>=i)&&Object.keys(n.O).every((function(e){return n.O[e](r[a])}))?r.splice(a--,1):(o=!1,i<l&&(l=i));if(o){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[r,s,i]},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=101,function(){var e={101:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,i,l=r[0],o=r[1],a=r[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(a)var c=a(n)}for(t&&t(r);u<l.length;u++)i=l[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},r=self.webpackChunkmediacms_frontend=self.webpackChunkmediacms_frontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var s=n.O(void 0,[276],(function(){return n(1091)}));s=n.O(s)}();