!function(){"use strict";var e,t={1724:function(e,t,a){a.d(t,{q:function(){return o}});var n=a(5602),i=a(5909);const r=n.createContext((0,i.$)(window.MediaCMS).site),o=r.Consumer;t.A=r},4833:function(e,t,a){a.r(t),a.d(t,{addMediaToPlaylist:function(){return h},addNewPlaylist:function(){return g},copyEmbedMediaCode:function(){return u},copyShareLink:function(){return s},createPlaylist:function(){return E},deleteComment:function(){return _},dislikeMedia:function(){return l},likeMedia:function(){return o},loadMediaData:function(){return r},removeMedia:function(){return p},removeMediaFromPlaylist:function(){return v},reportMedia:function(){return m},submitComment:function(){return f},undislikeMedia:function(){return c},unlikeMedia:function(){return d}});var n=a(1700),i=a.n(n);function r(){i().dispatch({type:"LOAD_MEDIA_DATA"})}function o(){i().dispatch({type:"LIKE_MEDIA"})}function d(){i().dispatch({type:"UNLIKE_MEDIA"})}function l(){i().dispatch({type:"DISLIKE_MEDIA"})}function c(){i().dispatch({type:"UNDISLIKE_MEDIA"})}function m(e){i().dispatch({type:"REPORT_MEDIA",reportDescription:e?e.replace(/\s/g,""):""})}function s(e){i().dispatch({type:"COPY_SHARE_LINK",inputElement:e})}function u(e){i().dispatch({type:"COPY_EMBED_MEDIA_CODE",inputElement:e})}function p(){i().dispatch({type:"REMOVE_MEDIA"})}function f(e){i().dispatch({type:"SUBMIT_COMMENT",commentText:e})}function _(e){i().dispatch({type:"DELETE_COMMENT",commentId:e})}function E(e){i().dispatch({type:"CREATE_PLAYLIST",playlist_data:e})}function h(e,t){i().dispatch({type:"ADD_MEDIA_TO_PLAYLIST",playlist_id:e,media_id:t})}function v(e,t){i().dispatch({type:"REMOVE_MEDIA_FROM_PLAYLIST",playlist_id:e,media_id:t})}function g(e){i().dispatch({type:"APPEND_NEW_PLAYLIST",playlist_data:e})}},8236:function(e,t,a){var n=a(655),i=a(5602),r=a(5762),o=a.n(r),d=a(863),l=a(6252),c=a(7487),m=a(8429);const s=e=>{let{children:t}=e;return i.createElement(i.Fragment,null,i.createElement(l.A,null,t),i.createElement(c.$,null))};var u=a(8673),p=a(1724),f=a(2588),_=a(8355),E=a(4833),h=a(9122),v=a(1054),g=a(1934),A=a(1336);const y=[{add_date:"2024-12-22T11:55:56.797092-05:00",text:"0:05 testing if I can timestamp in comments",parent:null,author_thumbnail_url:"/media/userlogos/2024/12/22/IMG_7818.jpeg",author_profile:"/user/dripps/",author_name:"Zachary Dripps",media_url:"/view?m=kHd7EKAVH",uid:"2b9b34ac-cd37-441d-999a-1917599ee851"},{add_date:"2025-03-02T12:49:20.928722-05:00",text:"1111",parent:null,author_thumbnail_url:"/media/userlogos/user.jpg",author_profile:"/user/habiburnatore/",author_name:"afiya",media_url:"/view?m=kHd7EKAVH",uid:"d29ec05c-9126-4d1b-b68e-800c7e5ce9cd"}],w={url:"https://stage.cinemata.org/view?m=1rCGGuMR4",user:"admin",title:"4ec2c228d8b240579792587d1626e184.KaDodoy_1080_H264.mp4",description:"",summary:"KaDodoy",add_date:"2025-05-02T19:31:30+01:00",edit_date:"2025-05-13T09:41:48.638740+01:00",media_type:"video",state:"public",duration:301,thumbnail_url:"/media/original/thumbnails/user/admin/a1b0bb647d5e4146bfa4ed51e224edb9_64dWHtD.4ec2c228d8b240579792587d1626e184.KaDodoy_1080_H264.mp4.jpg",poster_url:"/media/original/thumbnails/user/admin/a1b0bb647d5e4146bfa4ed51e224edb9_PTdgsHA.4ec2c228d8b240579792587d1626e184.KaDodoy_1080_H264.mp4.jpg",author_name:"CinemataCMS",author_profile:"/user/admin/",author_thumbnail:"/media/userlogos/user.jpg",views:9,likes:1,dislikes:0,enable_comments:!0,categories_info:[{title:"Art",url:"/search?c=Art"}],media_country_info:[{title:"International",url:"/search?country=International"}],media_language_info:[{title:"English",url:"/search?language=English"}]},b=e=>{let{pageTitle:t="Demo Page"}=e;var a;a="demo",(0,i.useEffect)((()=>{m.oh(a)}),[a]),(0,i.useEffect)((()=>{if(void 0!==_.A){void 0===window.LinksContext&&(window.LinksContext={_currentValue:{signin:"/signin",profile:{media:["/user/admin/"]}}}),void 0===window.SiteContext&&(window.SiteContext={_currentValue:{url:"https://stage.cinemata.org"}}),_.A.set("media-id","1rCGGuMR4"),_.A.set("media-data",w),_.A.set("media-url",w.url),_.A.set("media-type","video"),_.A.set("media-comments",y);const e=_.A.get("media-data");e&&(e.enable_comments=!0,_.A.set("media-data",e)),window.forceDisplayComments=y,_.A.emit("comments_load"),setTimeout((()=>{_.A.emit("comments_load")}),100)}}),[]);const[n,r]=(0,i.useState)((()=>void 0!==d.A&&d.A.get("window-inner-width")>=1216)),[o,l]=(0,i.useState)(!1),[c,b]=(0,i.useState)(!1),[C,D]=(0,i.useState)(!1),[I,S]=(0,i.useState)(!1),[N,T]=(0,i.useState)(!1),[O,k]=(0,i.useState)((()=>void 0!==_.A?_.A.get("playlist-data"):null)),[L,P]=(0,i.useState)(null),x=(0,i.useCallback)((()=>{void 0!==d.A&&r(d.A.get("window-inner-width")>=1216)}),[]),j=(0,i.useCallback)((()=>{void 0!==A.A&&S(A.A.get("in-theater-mode"))}),[]),H=(0,i.useCallback)((()=>{if(void 0===_.A||void 0===A.A)return;const e=_.A.get("media-data"),t="video"===_.A.get("media-type");P(e),l(!0),b(!1),D(t),t&&(A.A.on("changed_viewer_mode",j),S(A.A.get("in-theater-mode")))}),[j]),K=(0,i.useCallback)((()=>{b(!0),l(!1)}),[]),R=(0,i.useCallback)((()=>{void 0!==_.A&&(T(!0),k(_.A.get("playlist-data")))}),[]);(0,i.useEffect)((()=>{if(void 0!==E&&void 0!==d.A&&void 0!==_.A){const e="1rCGGuMR4";void 0===window.MediaCMS&&(window.MediaCMS={}),window.MediaCMS.mediaId,window.MediaCMS.mediaId=e,E.loadMediaData(),d.A.on("window_resize",x),_.A.on("loaded_media_data",H),_.A.on("loaded_media_error",K),_.A.on("loaded_page_playlist_data",R)}return()=>{void 0!==d.A&&d.A.off("window_resize",x),void 0!==_.A&&(_.A.off("loaded_media_data",H),_.A.off("loaded_media_error",K),_.A.off("loaded_page_playlist_data",R)),void 0!==A.A&&A.A.off("changed_viewer_mode",j),void 0!==window.MediaCMS&&(window.MediaCMS.mediaId=originalMediaId)}}),[x,H,K,R,j]);const F="cf viewer-section"+(I?" theater-mode":" viewer-wide"),G="viewer-section-nested"+(I?" viewer-section":"");let V;V=c?i.createElement("div",{className:F},i.createElement(v.A,null)):o||N?i.createElement("div",{className:F},i.createElement("div",{className:"viewer-container"},o&&L?i.createElement(p.q,null,(e=>i.createElement(u.A,{data:L,siteUrl:e.url,inEmbed:!1}))):i.createElement("p",null,"Loading player...")),i.createElement("div",{className:G},!n||C&&I?i.createElement(i.Fragment,null,o&&i.createElement(h.A,null),N&&L&&void 0!==_.A&&i.createElement(i.Fragment,null,i.createElement(g.A,{mediaId:_.A.get("media-id"),playlistData:O}),i.createElement("div",{className:"comments-section"},i.createElement(f.A,null)))):i.createElement(i.Fragment,null,N&&L&&void 0!==_.A&&i.createElement(i.Fragment,null,i.createElement(g.A,{mediaId:_.A.get("media-id"),playlistData:O}),i.createElement("div",{className:"comments-section"},i.createElement(f.A,null))),o&&i.createElement(h.A,null)))):i.createElement("div",{className:"demo-page__loading"},i.createElement("p",null,"Loading media information..."));const Y=i.createElement("div",{className:"demo-page"},i.createElement("h1",{className:"demo-page__title"},t),i.createElement("div",{className:"demo-page__warning"},i.createElement("p",null,"This is a demo page showcasing a video viewer component, adapted with VideoMediaPage functionality.")),i.createElement("div",{className:"demo-page__standalone-comments"},i.createElement("h2",null,"Comments Section Demo"),i.createElement("div",{className:"comments-wrapper"},i.createElement(M,null))),V);return i.createElement(s,null,Y)};b.propTypes={pageTitle:o().string};const M=()=>i.createElement("div",{className:"comments-list"},i.createElement("div",{className:"comments-list-inner"},i.createElement("h2",null,y.length," Comments"),y.map((e=>{return i.createElement("div",{key:e.uid,className:"comment"},i.createElement("div",{className:"comment-inner"},i.createElement("a",{className:"comment-author-thumb",href:e.author_profile,title:e.author_name},i.createElement("img",{src:e.author_thumbnail_url,alt:e.author_name})),i.createElement("div",{className:"comment-content"},i.createElement("div",{className:"comment-meta"},i.createElement("div",{className:"comment-author"},i.createElement("a",{href:e.author_profile,title:e.author_name},e.author_name)),i.createElement("div",{className:"comment-date"},new Date(e.add_date).toLocaleString())),i.createElement("div",{className:"comment-text show-all"},i.createElement("div",{className:"comment-text-inner",dangerouslySetInnerHTML:{__html:(t=e.text,t?t.replace(/(((\d+):)?(\d+):(\d+))/g,(e=>{const t=e.split(":");let a=0,n=1;for(let e=t.length-1;e>=0;e--)a+=n*parseInt(t[e],10),n*=60;return`<a href="?t=${a}" class="timestamp-link">${e}</a>`})).replace(/\n/g,"<br />"):"")}})))));var t}))));(0,n.C)("page-demo",b)}},a={};function n(e){var i=a[e];if(void 0!==i)return i.exports;var r=a[e]={exports:{}};return t[e].call(r.exports,r,r.exports,n),r.exports}n.m=t,e=[],n.O=function(t,a,i,r){if(!a){var o=1/0;for(m=0;m<e.length;m++){a=e[m][0],i=e[m][1],r=e[m][2];for(var d=!0,l=0;l<a.length;l++)(!1&r||o>=r)&&Object.keys(n.O).every((function(e){return n.O[e](a[l])}))?a.splice(l--,1):(d=!1,r<o&&(o=r));if(d){e.splice(m--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var m=e.length;m>0&&e[m-1][2]>r;m--)e[m]=e[m-1];e[m]=[a,i,r]},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=594,function(){var e={594:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,r,o=a[0],d=a[1],l=a[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in d)n.o(d,i)&&(n.m[i]=d[i]);if(l)var m=l(n)}for(t&&t(a);c<o.length;c++)r=o[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(m)},a=self.webpackChunkmediacms_frontend=self.webpackChunkmediacms_frontend||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var i=n.O(void 0,[276],(function(){return n(8236)}));i=n.O(i)}();