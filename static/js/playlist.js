!function(){"use strict";var e,t={378:function(e,t,a){a.d(t,{w:function(){return m}});var i=a(5602),l=a(5762),n=a.n(l),s=a(8429),r=a(8355),o=a(4833),d=a(3707),u=a(4681),c=a(549);function m(e){const t=(0,i.useRef)(null),a=(0,i.useRef)(null),l=(0,i.useRef)(null),n=(0,i.useRef)(null),[m,p]=(0,i.useState)(e.id||null),[y,h]=(0,i.useState)(e.id?d.A.get("title"):""),[f,g]=(0,i.useState)(e.id?d.A.get("description"):""),[b,v]=(0,i.useState)(-1);function E(t){setTimeout((function(){s.z8("Playlist created","playlistCreationCompleted");const a={playlist_id:function(e){let t=e.split("/");return 1<t.length?t[t.length-1]:null}(t.url),add_date:t.add_date,description:t.description,title:t.title,media_list:[]};e.onPlaylistSave(a)}),100)}function P(){setTimeout((function(){s.z8("Playlist creation failed","playlistCreationFailed")}),100)}return(0,i.useEffect)((()=>(r.A.on("playlist_creation_completed",E),r.A.on("playlist_creation_failed",P),a.current.focus(),()=>{r.A.removeListener("playlist_creation_completed",E),r.A.removeListener("playlist_creation_failed",P)})),[]),i.createElement("div",{className:"playlist-form-wrap"},i.createElement("div",{className:"playlist-form-field playlist-title",ref:t},i.createElement("span",{className:"playlist-form-label"},"Title"),i.createElement("input",{ref:a,type:"text",placeholder:"Enter playlist title...",value:y,onChange:function(){h(a.current.value)},onFocus:function(){(0,c.zc)(t.current,"focused")},onBlur:function(){(0,c.qk)(t.current,"focused")},onClick:function(){(0,c.qk)(t.current,"invalid")}})),i.createElement("div",{className:"playlist-form-field playlist-description",ref:l},i.createElement("span",{className:"playlist-form-label"},"Description"),i.createElement("textarea",{ref:n,rows:"1",placeholder:"Enter playlist description...",value:f,onChange:function(){n.current.style.height="";const e=n.current.scrollHeight-2,t=0<b?b:parseFloat(window.getComputedStyle(n.current).lineHeight);n.current.style.height=3+Math.max(21,t*Math.floor(e/t))+"px",v(t),g(n.current.value)},onFocus:function(){(0,c.zc)(l.current,"focused")},onBlur:function(){(0,c.qk)(l.current,"focused")}})),i.createElement("div",{className:"playlist-form-actions"},i.createElement("button",{className:"cancel-btn",onClick:function(){e.onCancel()}},"CANCEL"),i.createElement("button",{className:"create-btn",onClick:function(){let e=a.current.value.trim();if(""!==e){let t=n.current.value.trim();m?u.i5({title:e,description:t}):o.createPlaylist({title:e,description:t})}else(0,c.zc)(t.current,"invalid")}},m?"UPDATE":"CREATE")))}m.propTypes={id:n().string,onCancel:n().func.isRequired,onPlaylistSave:n().func.isRequired}},549:function(e,t,a){function i(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")}function l(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function n(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function s(e,t){return e.className&&new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)}a.d(t,{CX:function(){return s},kN:function(){return i},qk:function(){return l},zc:function(){return n}})},623:function(e,t,a){a.d(t,{Z:function(){return l}});var i=a(5602);const l=e=>{let{type:t}=e;return t?i.createElement("i",{className:"material-icons","data-icon":t}):null}},988:function(e,t,a){a.d(t,{A:function(){return l}});var i=a(2958);function l(e,t){if(e instanceof Date)switch(t=0<(t=0+t)?t:1){case 1:return i.A[e.getMonth()].substring(0,3)+" "+e.getDate()+", "+e.getFullYear();case 2:return e.getDate()+" "+i.A[e.getMonth()].substring(0,3)+" "+e.getFullYear();case 3:return e.getDate()+" "+i.A[e.getMonth()]+" "+e.getFullYear()}return null}},1653:function(e,t,a){a.d(t,{Y:function(){return r}});var i=a(5602),l=(a(3203),a(8429));a(1724),a(670);var n=a(6252),s=a(7487);class r extends i.PureComponent{constructor(e,t){super(e),void 0!==t&&l.oh(t)}render(){return i.createElement(i.Fragment,null,i.createElement(n.A,null,this.pageContent()),i.createElement(s.$,null))}}},2958:function(e,t){t.A=["January","February","March","April","May","June","July","August","September","October","November","December"]},3707:function(e,t,a){var i=a(5602),l=a(497),n=a.n(l),s=(a(6415),a(4443)),r=a(5909);a(863);const o={};class d extends(n()){constructor(){super(),this.mediacms_config=(0,r.$)(window.MediaCMS),o[Object.defineProperty(this,"id",{value:"PlaylistPageStoreData_"+Object.keys(o).length}).id]={playlistId:null,data:{}},this.data={savedPlaylist:!1,publishDate:new Date(2018,3,14,1,13,22,0),publishDateLabel:null},this.onPlaylistUpdateCompleted=this.onPlaylistUpdateCompleted.bind(this),this.onPlaylistUpdateFailed=this.onPlaylistUpdateFailed.bind(this),this.onPlaylistRemovalCompleted=this.onPlaylistRemovalCompleted.bind(this),this.onPlaylistRemovalFailed=this.onPlaylistRemovalFailed.bind(this)}loadData(){if(!o[this.id].playlistId)return console.warn("Invalid playlist id:",o[this.id].playlistId),!1;this.playlistAPIUrl=this.mediacms_config.api.playlists+"/"+o[this.id].playlistId,this.dataResponse=this.dataResponse.bind(this),this.dataErrorResponse=this.dataErrorResponse.bind(this),(0,s.iq)(this.playlistAPIUrl,!1,this.dataResponse,this.dataErrorResponse)}dataResponse(e){e&&e.data&&(o[this.id].data=e.data,this.emit("loaded_playlist_data"))}dataErrorResponse(e){this.emit("loaded_playlist_error"),e.type}get(e){switch(e){case"playlistId":return o[this.id].playlistId||null;case"logged-in-user-playlist":return!this.mediacms_config.member.is.anonymous&&o[this.id].data.user===this.mediacms_config.member.username;case"playlist-media":return o[this.id].data.playlist_media||[];case"visibility":return"public";case"visibility-icon":switch(this.get("visibility")){case"unlisted":return i.createElement("i",{className:"material-icons"},"insert_link");case"private":return i.createElement("i",{className:"material-icons"},"lock")}return null;case"total-items":return o[this.id].data.playlist_media.length||0;case"views-count":return"N/A";case"title":return o[this.id].data.title||null;case"edit-link":return"#";case"thumb":return o[this.id].data.playlist_media&&o[this.id].data.playlist_media.length?o[this.id].data.playlist_media[0].thumbnail_url:null;case"description":return o[this.id].data.description||null;case"author-username":case"author-name":return o[this.id].data.user||null;case"author-link":return o[this.id].data.user?this.mediacms_config.site.url+"/user/"+o[this.id].data.user:null;case"author-thumb":return o[this.id].data.user_thumbnail_url?this.mediacms_config.site.url+"/"+o[this.id].data.user_thumbnail_url.replace(/^\//g,""):null;case"saved-playlist":return this.data.savedPlaylist;case"date-label":return o[this.id].data&&o[this.id].data.add_date?(this.data.publishDateLabel=this.data.publishDateLabel||"Created on "+(0,s.w$)(new Date(o[this.id].data.add_date),3),this.data.publishDateLabel):null}return null}onPlaylistUpdateCompleted(e){e&&e.data&&(o[this.id].data.title=e.data.title,o[this.id].data.description=e.data.description,this.emit("playlist_update_completed",e.data))}onPlaylistUpdateFailed(){this.emit("playlist_update_failed")}onPlaylistRemovalCompleted(e){e&&void 0!==e.status&&403!==e.status?this.emit("playlist_removal_completed",e):this.onPlaylistRemovalFailed()}onPlaylistRemovalFailed(){this.emit("playlist_removal_failed")}actions_handler(e){switch(e.type){case"LOAD_PLAYLIST_DATA":o[this.id].playlistId=window.MediaCMS.playlistId||((t=window.location.href.split("/")).length?t[t.length-1]:null),this.loadData();break;case"TOGGLE_SAVE":this.data.savedPlaylist=!this.data.savedPlaylist,this.emit("saved-updated");break;case"UPDATE_PLAYLIST":(0,s.MB)(this.playlistAPIUrl,{title:e.playlist_data.title,description:e.playlist_data.description},{headers:{"X-CSRFToken":(0,s.m5)()}},!1,this.onPlaylistUpdateCompleted,this.onPlaylistUpdateFailed);break;case"REMOVE_PLAYLIST":(0,s.Fb)(this.playlistAPIUrl,{headers:{"X-CSRFToken":(0,s.m5)()}},!1,this.onPlaylistRemovalCompleted,this.onPlaylistRemovalFailed);break;case"PLAYLIST_MEDIA_REORDERED":o[this.id].data.playlist_media=e.playlist_media,this.emit("reordered_media_in_playlist");break;case"MEDIA_REMOVED_FROM_PLAYLIST":const a=[];let i=0;for(;i<o[this.id].data.playlist_media.length;)e.media_id!==o[this.id].data.playlist_media[i].url.split("=")[1]&&a.push(o[this.id].data.playlist_media[i]),i+=1;o[this.id].data.playlist_media=a,this.emit("removed_media_from_playlist")}var t}}t.A=(0,s.ey)(new d,"actions_handler")},4443:function(e,t,a){a.d(t,{Fb:function(){return s.A},MB:function(){return l.A},ZV:function(){return o.A},ey:function(){return r.A},gj:function(){return d.A},iq:function(){return i.A},m5:function(){return c.A},w$:function(){return u.A},zi:function(){return n.A}});var i=a(9702),l=a(8628),n=a(7449),s=a(1579),r=a(4340),o=a(6925),d=a(9804),u=(a(797),a(7974),a(988)),c=(a(8959),a(5252))},4681:function(e,t,a){a.d(t,{$M:function(){return o},DO:function(){return n},Sp:function(){return d},i5:function(){return s},tH:function(){return r}});var i=a(1700),l=a.n(i);function n(){l().dispatch({type:"LOAD_PLAYLIST_DATA"})}function s(e){l().dispatch({type:"UPDATE_PLAYLIST",playlist_data:e})}function r(){l().dispatch({type:"REMOVE_PLAYLIST"})}function o(e,t){l().dispatch({type:"MEDIA_REMOVED_FROM_PLAYLIST",media_id:e,playlist_id:t})}function d(e){l().dispatch({type:"PLAYLIST_MEDIA_REORDERED",playlist_media:e})}},4833:function(e,t,a){a.d(t,{createPlaylist:function(){return n}});var i=a(1700),l=a.n(i);function n(e){l().dispatch({type:"CREATE_PLAYLIST",playlist_data:e})}},6521:function(e,t,a){a.d(t,{L9:function(){return u}});var i=a(5602),l=a(5762),n=a.n(l),s=a(306),r=a.n(s),o=a(1581);function d(e,t){let a=r()(e,{});return""!==a.origin&&"null"!==a.origin&&a.origin||(a=r()(t+"/"+e.replace(/^\//g,""),{})),a.toString()}function u(e){const t=(0,i.useRef)(null);let a=null;const l={playerVolume:e.playerVolume,playerSoundMuted:e.playerSoundMuted,videoQuality:e.videoQuality,videoPlaybackSpeed:e.videoPlaybackSpeed,inTheaterMode:e.inTheaterMode};function n(){void 0!==e.onClickNextCallback&&e.onClickNextCallback()}function s(){void 0!==e.onClickPreviousCallback&&e.onClickPreviousCallback()}function r(t){l.playerVolume!==t.volume&&(l.playerVolume=t.volume),l.playerSoundMuted!==t.soundMuted&&(l.playerSoundMuted=t.soundMuted),l.videoQuality!==t.quality&&(l.videoQuality=t.quality),l.videoPlaybackSpeed!==t.playbackSpeed&&(l.videoPlaybackSpeed=t.playbackSpeed),l.inTheaterMode!==t.theaterMode&&(l.inTheaterMode=t.theaterMode),void 0!==e.onStateUpdateCallback&&e.onStateUpdateCallback(t)}function u(){if(null!==a||null!==e.errorMessage)return;if(e.inEmbed||(window.removeEventListener("focus",u),document.removeEventListener("visibilitychange",u)),!t.current)return;e.inEmbed||t.current.focus();const i={on:!1};if(void 0!==e.subtitlesInfo&&null!==e.subtitlesInfo&&e.subtitlesInfo.length){i.languages=[];let t=0;for(;t<e.subtitlesInfo.length;)void 0!==e.subtitlesInfo[t].src&&void 0!==e.subtitlesInfo[t].srclang&&void 0!==e.subtitlesInfo[t].label&&i.languages.push({src:d(e.subtitlesInfo[t].src,e.siteUrl),srclang:e.subtitlesInfo[t].srclang,label:e.subtitlesInfo[t].label}),t+=1;i.languages.length&&(i.on=!0)}const o=window["@mediacms/media-player"];a=new o(t.current,{enabledTouchControls:!0,sources:e.sources,poster:e.poster,autoplay:e.enableAutoplay,bigPlayButton:!0,controlBar:{theaterMode:e.hasTheaterMode,pictureInPicture:!1,next:!!e.hasNextLink,previous:!!e.hasPreviousLink},subtitles:i,cornerLayers:e.cornerLayers,videoPreviewThumb:e.previewSprite},{volume:l.playerVolume,soundMuted:l.playerSoundMuted,theaterMode:l.inTheaterMode,theSelectedQuality:void 0,theSelectedPlaybackSpeed:l.videoPlaybackSpeed||1},e.info,[.25,.5,.75,1,1.25,1.5,1.75,2],r,n,s),void 0!==e.onPlayerInitCallback&&e.onPlayerInitCallback(a,t.current)}return l.playerVolume=null===l.playerVolume?1:Math.max(Math.min(Number(l.playerVolume),1),0),l.playerSoundMuted=null!==l.playerSoundMuted&&l.playerSoundMuted,l.videoQuality=null!==l.videoQuality?l.videoQuality:"Auto",l.videoPlaybackSpeed=null!==l.videoPlaybackSpeed&&l.videoPlaybackSpeed,l.inTheaterMode=null!==l.inTheaterMode&&l.inTheaterMode,(0,i.useEffect)((()=>(e.inEmbed||document.hasFocus()||"visible"===document.visibilityState?u():(window.addEventListener("focus",u),document.addEventListener("visibilitychange",u)),()=>{null!==a&&((0,o.A)(t.current).dispose(),a=null),void 0!==e.onUnmountCallback&&e.onUnmountCallback()})),[]),null===e.errorMessage?i.createElement("video",{ref:t,className:"video-js vjs-mediacms native-dimensions"}):i.createElement("div",{className:"error-container"},i.createElement("div",{className:"error-container-inner"},i.createElement("span",{className:"icon-wrap"},i.createElement("i",{className:"material-icons"},"error_outline")),i.createElement("span",{className:"msg-wrap"},e.errorMessage)))}a(7752),n().string.isRequired,u.propTypes={playerVolume:n().string,playerSoundMuted:n().bool,videoQuality:n().string,videoPlaybackSpeed:n().number,inTheaterMode:n().bool,siteId:n().string.isRequired,siteUrl:n().string.isRequired,errorMessage:n().string,cornerLayers:n().object,subtitlesInfo:n().array.isRequired,inEmbed:n().bool.isRequired,sources:n().array.isRequired,info:n().object.isRequired,enableAutoplay:n().bool.isRequired,hasTheaterMode:n().bool.isRequired,hasNextLink:n().bool.isRequired,hasPreviousLink:n().bool.isRequired,poster:n().string,previewSprite:n().object,onClickPreviousCallback:n().func,onClickNextCallback:n().func,onPlayerInitCallback:n().func,onStateUpdateCallback:n().func,onUnmountCallback:n().func},u.defaultProps={errorMessage:null,cornerLayers:{}}},6680:function(e,t,a){a.d(t,{y:function(){return s}});var i=a(5602),l=a(5909);const n=i.createContext((0,l.$)(window.MediaCMS).url),s=n.Consumer;t.A=n},8282:function(e,t,a){var i=a(5602),l=a(5909);const n=i.createContext((0,l.$)(window.MediaCMS).api);n.Consumer,t.A=n},8429:function(e,t,a){a.d(t,{oh:function(){return n},z8:function(){return s}});var i=a(1700),l=a.n(i);function n(e){l().dispatch({type:"INIT_PAGE",page:e})}function s(e,t){l().dispatch({type:"ADD_NOTIFICATION",notification:e,notificationId:t})}},8856:function(e,t,a){var i=a(655),l=a(5602),n=(a(3203),a(9404)),s=a(1756),r=a(7236),o=a(8282),d=a(1653),u=a(8429),c=a(4681),m=a(3707),p=a(670),y=a(5762),h=a.n(y),f=a(1838);function g(e){return l.createElement(f.k,{items:e.media,playlistId:e.playlistId,hidePlaylistOptions:e.hidePlaylistOptions,singleLinkContent:!0,hideDate:!0,hideViews:!0,hidePlaylistOrderNumber:!1,horizontalItemsOrientation:!0,itemsCountCallback:e.itemsCountCallback,itemsLoadCallback:e.itemsLoadCallback,pageItems:99999,inPlaylistPage:!0})}g.propTypes={media:h().array.isRequired,playlistId:h().string.isRequired,itemsCountCallback:h().func,itemsLoadCallback:h().func,hidePlaylistOptions:h().bool},g.defaultProps={hidePlaylistOptions:!0};var b=a(3705),v=a(4443),E=a(623),P=a(3902),_=a(378),A=a(4397);function C(e){return e.media&&e.media.length?l.createElement("a",{href:e.media[0].url+"&pl="+e.id,title:""},e.children):l.createElement("span",null,e.children)}function k(e){const[t,a]=(0,l.useState)(null);return(0,l.useEffect)((()=>{if(e.thumb&&"string"==typeof e.thumb){const t=e.thumb.trim();a(""!==t?t:null)}else a(null)}),[e.thumb]),l.createElement("div",{className:"playlist-thumb"+(t?"":" no-thumb"),style:{backgroundImage:'url("'+t+'")'}},l.createElement(C,{id:e.id,media:e.media},l.createElement("span",null,t?l.createElement("img",{src:t,alt:""}):null,l.createElement("span",{className:"play-all"},l.createElement("span",null,l.createElement("span",null,l.createElement("i",{className:"material-icons"},"play_arrow"),l.createElement("span",{className:"play-all-label"},"PLAY ALL")))))))}function S(e){return l.createElement("div",{className:"playlist-title"},l.createElement("h1",null,e.title))}function L(e){return l.createElement("div",{className:"playlist-meta"},l.createElement("div",{className:"playlist-videos-number"},e.totalItems," media"),e.dateLabel?l.createElement("div",{className:"playlist-last-update"},e.dateLabel):null)}function R(e){return e.loggedinUserPlaylist?l.createElement("div",{className:"playlist-actions"},e.loggedinUserPlaylist?l.createElement(I,null):null):null}function M(e){return l.createElement("div",{className:"playlist-author"},l.createElement("div",null,l.createElement("div",{className:"playlist-author-thumb"},l.createElement("a",{href:e.link,title:e.name},e.thumb?l.createElement("span",{style:{backgroundImage:"url("+e.thumb+")"}},l.createElement("img",{src:e.thumb,alt:""})):l.createElement("span",null,l.createElement(E.Z,{type:"person"})))),l.createElement("div",{className:"playlist-author-name"},l.createElement("a",{href:e.link,title:e.name},e.name)),e.loggedinUserPlaylist?l.createElement(N,null):null))}function I(e){const[t,a,i]=(0,s.O)(),[n,r]=(0,l.useState)("main");return l.createElement("div",{className:"playlist-options-wrap"+("main"===n?" playlist-options-main":"")},l.createElement(i,{contentRef:t},l.createElement(p.i,null,l.createElement(E.Z,{type:"more_horiz"}))),l.createElement(a,{contentRef:t},l.createElement(A.V,{pageChangeCallback:r,initPage:"main",focusFirstItemOnPageChange:!1,pages:(o=function(){c.tH(),t.current.toggle()},d=function(){t.current.toggle()},{main:l.createElement(b.AP,null,l.createElement(P.S,{items:[{itemType:"open-subpage",text:"Delete",icon:"delete",buttonAttr:{className:"change-page","data-page-id":"proceedPlaylistRemovalPopup"}}]})),proceedPlaylistRemovalPopup:l.createElement(b.AP,null,l.createElement("div",{className:"popup-message"},l.createElement("span",{className:"popup-message-title"},"Playlist removal"),l.createElement("span",{className:"popup-message-main"},"You're willing to remove playlist permanently?")),l.createElement("hr",null),l.createElement("span",{className:"popup-message-bottom"},l.createElement("button",{className:"button-link cancel-playlist-removal",onClick:d},"CANCEL"),l.createElement("button",{className:"button-link proceed-playlist-removal",onClick:o},"PROCEED")))}),pageChangeSelector:".change-page",pageIdSelectorAttr:"data-page-id"})));var o,d}function N(e){const[t,a,i]=(0,s.O)();function n(){t.current.toggle()}function o(e){setTimeout((function(){u.z8("Playlist updated","playlistUpdateCompleted"),n()}),100)}function d(){setTimeout((function(){u.z8("Playlist update failed","playlistUpdateFailed"),n()}),100)}function c(e){setTimeout((function(){u.z8("Playlist removed. Redirecting...","playlistDelete"),setTimeout((function(){window.location.href=r.A._currentValue.pages.playlists}),2e3)}),100)}function y(e){setTimeout((function(){u.z8("Playlist removal failed","playlistDeleteFail")}),100)}return(0,l.useEffect)((()=>(m.A.on("playlist_update_completed",o),m.A.on("playlist_update_failed",d),m.A.on("playlist_removal_completed",c),m.A.on("playlist_removal_failed",y),()=>{m.A.removeListener("playlist_update_completed",o),m.A.removeListener("playlist_update_failed",d),m.A.removeListener("playlist_removal_completed",c),m.A.removeListener("playlist_removal_failed",y)})),[]),l.createElement("div",{className:"edit-playlist"},l.createElement(i,{contentRef:t},l.createElement(p.i,null,l.createElement(E.Z,{type:"edit"}),l.createElement("span",null,"EDIT"))),l.createElement(a,{contentRef:t},l.createElement("div",{className:"popup-fullscreen"},l.createElement(b.AP,null,l.createElement("span",{className:"popup-fullscreen-overlay"}),l.createElement("div",{className:"edit-playlist-form-wrap"},l.createElement("div",{className:"edit-playlist-popup-title"},"Edit playlist",l.createElement(p.i,{type:"button",onClick:n},l.createElement(E.Z,{type:"close"}))),l.createElement(_.w,{date:(new Date).getTime(),id:m.A.get("playlistId"),onCancel:n,onPlaylistSave:function(){}}))))))}class w extends l.PureComponent{constructor(e){super(e),this.state={media:e.media},this.containerRef=l.createRef(),this.onItemsLoad=this.onItemsLoad.bind(this)}onItemsLoad(){if(!this.props.loggedinUserPlaylist)return;const e=this.containerRef.current.querySelector(".items-list");if(!e)return;const t=this.props.id;function a(e){}function i(e){}const l=function(e){return this.state.media[e]}.bind(this),s=function(e){const t=[];let a=0;for(;a<e.length;)t.push(this.state.media[e[a]]),a+=1;this.setState({media:t},(()=>{c.Sp(this.state.media)}))}.bind(this);n.Ay.create(e,{onStart:function(t){e.classList.add("on-dragging")},onEnd:function(n){const r=[],d=e.querySelectorAll(".item-order-number div div");let u,c,m,p=0;for(;p<d.length;)u=parseInt(d[p].getAttribute("data-order"),10),c=p+1,c!==u&&(m=l(u-1).friendly_token,(0,v.zi)(o.A._currentValue.playlists+"/"+t,{type:"ordering",ordering:c,media_friendly_token:m},{headers:{"X-CSRFToken":(0,v.m5)()}},!1,a,i)),r.push(u-1),d[p].setAttribute("data-order",c),d[p].innerHTML=c,p+=1;e.classList.remove("on-dragging"),s(r)}})}render(){return l.createElement("div",{ref:this.containerRef,className:"playlist-videos-list"+(this.props.loggedinUserPlaylist?" draggable":"")},this.state.media.length?l.createElement(g,{itemsLoadCallback:this.onItemsLoad,playlistId:this.props.id,media:this.state.media,hidePlaylistOptions:!this.props.loggedinUserPlaylist}):null)}}class T extends d.Y{constructor(e){super(e,"playlist-page"),this.state={thumb:m.A.get("thumb"),media:m.A.get("playlist-media"),savedPlaylist:m.A.get("saved-playlist"),loggedinUserPlaylist:m.A.get("logged-in-user-playlist"),title:m.A.get("title"),description:m.A.get("description")},this.onLoadPlaylistData=this.onLoadPlaylistData.bind(this),m.A.on("loaded_playlist_data",this.onLoadPlaylistData),this.onMediaRemovedFromPlaylist=this.onMediaRemovedFromPlaylist.bind(this),m.A.on("removed_media_from_playlist",this.onMediaRemovedFromPlaylist),this.onMediaReorderedInPlaylist=this.onMediaReorderedInPlaylist.bind(this),m.A.on("reordered_media_in_playlist",this.onMediaReorderedInPlaylist),this.onCompletePlaylistUpdate=this.onCompletePlaylistUpdate.bind(this),m.A.on("playlist_update_completed",this.onCompletePlaylistUpdate)}onCompletePlaylistUpdate(){this.setState({thumb:m.A.get("thumb"),title:m.A.get("title"),description:m.A.get("description")})}onLoadPlaylistData(){this.setState({thumb:m.A.get("thumb"),title:m.A.get("title"),description:m.A.get("description"),media:m.A.get("playlist-media"),savedPlaylist:m.A.get("saved-playlist"),loggedinUserPlaylist:m.A.get("logged-in-user-playlist")})}componentDidMount(){c.DO()}onMediaRemovedFromPlaylist(){this.setState({media:m.A.get("playlist-media"),thumb:m.A.get("thumb")})}onMediaReorderedInPlaylist(){this.setState({media:m.A.get("playlist-media"),thumb:m.A.get("thumb")})}pageContent(){const e=m.A.get("playlistId");return e?[l.createElement("div",{key:"playlistDetails",className:"playlist-details"},l.createElement(k,{id:e,thumb:this.state.thumb,media:this.state.media}),l.createElement(S,{title:this.state.title}),l.createElement(L,{totalItems:m.A.get("total-items"),dateLabel:m.A.get("date-label"),viewsCount:m.A.get("views-count")}),l.createElement(R,{loggedinUserPlaylist:this.state.loggedinUserPlaylist,savedPlaylist:this.state.savedPlaylist}),this.state.description?l.createElement("div",{className:"playlist-description"},this.state.description):null,l.createElement(M,{name:m.A.get("author-name"),link:m.A.get("author-link"),thumb:m.A.get("author-thumb"),loggedinUserPlaylist:this.state.loggedinUserPlaylist})),l.createElement(w,{key:"playlistMediaList_"+this.state.media.length,id:e,media:this.state.media,loggedinUserPlaylist:this.state.loggedinUserPlaylist})]:null}}(0,i.C)("page-playlist",T)}},a={};function i(e){var l=a[e];if(void 0!==l)return l.exports;var n=a[e]={exports:{}};return t[e].call(n.exports,n,n.exports,i),n.exports}i.m=t,e=[],i.O=function(t,a,l,n){if(!a){var s=1/0;for(u=0;u<e.length;u++){a=e[u][0],l=e[u][1],n=e[u][2];for(var r=!0,o=0;o<a.length;o++)(!1&n||s>=n)&&Object.keys(i.O).every((function(e){return i.O[e](a[o])}))?a.splice(o--,1):(r=!1,n<s&&(s=n));if(r){e.splice(u--,1);var d=l();void 0!==d&&(t=d)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[a,l,n]},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.j=33,function(){var e={33:0};i.O.j=function(t){return 0===e[t]};var t=function(t,a){var l,n,s=a[0],r=a[1],o=a[2],d=0;if(s.some((function(t){return 0!==e[t]}))){for(l in r)i.o(r,l)&&(i.m[l]=r[l]);if(o)var u=o(i)}for(t&&t(a);d<s.length;d++)n=s[d],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(u)},a=self.webpackChunkmediacms_frontend=self.webpackChunkmediacms_frontend||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var l=i.O(void 0,[276],(function(){return i(8856)}));l=i.O(l)}();